!function(t){var o={};function n(i){if(o[i])return o[i].exports;var e=o[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=o,n.d=function(t,o,i){n.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(o,"a",o),o},n.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},n.p="",n(n.s=0)}([function(t,o,n){"use strict";var i;n.r(o),function(t){t[t.Up=0]="Up",t[t.Right=1]="Right",t[t.Down=2]="Down",t[t.Left=3]="Left"}(i||(i={}));var e,r,c,a=i,s=function(){function t(t,o){this.x=t,this.y=o,this.x=t,this.y=o}return t.fromDirection=function(o){switch(o){case a.Up:return new t(0,-1);case a.Right:return new t(1,0);case a.Down:return new t(0,1);case a.Left:return new t(-1,1)}},t.clone=function(o){return new t(o.x,o.y)},t.prototype.add=function(o){return new t(this.x+o.x,this.y+o.y)},t.prototype.sub=function(o){return new t(this.x-o.x,this.y-o.y)},t.prototype.multScalar=function(o){return new t(this.x*o,this.y*o)},t.prototype.divScalar=function(o){return new t(this.x/o,this.y/o)},t.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},t.prototype.normalize=function(){var o=this.magnitude();return o<.001?new t(this.x,this.y):this.divScalar(o)},t.prototype.limit=function(o){return this.magnitude()>o?this.normalize().multScalar(o):t.clone(this)},t}(),u=function(){function t(t,o,n){this.location=t,this.width=o,this.height=n}return t.prototype.draw=function(t){t.fillStyle="rgb(0, 0, 0)",t.fillRect(this.location.x,this.location.y,this.width,this.height)},t.prototype.collidesWith=function(t){return this.location.x+this.width>t.location.x&&this.location.x<t.location.x+t.width&&this.location.y+this.height>t.location.y&&this.location.y<t.location.y+t.height},t}(),h=(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])},function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),l=function(t){function o(o,n){var i=t.call(this,o,3*n,3*n)||this;return i.mass=n,i.acceleration=new s(0,0),i.topSpeed=20,i}return h(o,t),o.prototype.applyForce=function(t){var o=t.divScalar(this.mass);this.acceleration=this.acceleration.add(o)},o.prototype.friction=function(){return this.velocity.multScalar(-1).normalize().multScalar(.8)},o.prototype.drag=function(){var t=this.velocity.magnitude(),o=.01*t*t;return this.velocity.multScalar(-1).normalize().multScalar(o)},o.prototype.update=function(t,o){this.applyForce(this.drag()),this.velocity=this.velocity.add(this.acceleration).limit(this.topSpeed),this.location=this.location.add(this.velocity),this.acceleration=this.acceleration.multScalar(0)},o.prototype.move=function(t){this.location=this.location.add(t)},o}(u),p=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])};return function(o,n){function i(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),f=function(t){function o(o,n){var i=t.call(this,o,n)||this;return i.location=o,i.speed=20,i.acceleration=new s(0,0),i.velocity=new s(0,0),i.topSpeed=10,i}return p(o,t),o.prototype.checkEdges=function(){this.location.x>600-this.width&&(this.location.x=600-this.width,this.velocity.x=0),this.location.x<0&&(this.location.x=0,this.velocity.x=0),this.location.y>600-this.height&&(this.location.y=600-this.height,this.velocity.y=0),this.location.y<0&&(this.location.y=0,this.velocity.y=0)},o.prototype.update=function(o,n){this.applyForce(n.forceNormal(this.location)),t.prototype.update.call(this,o,n),this.checkEdges()},o}(l),y=function(){function t(t){var o=this;this.rect=t.getBoundingClientRect(),this.position=new s(0,0),window.addEventListener("mousemove",function(t){return o.updateMousePos(t)})}return t.prototype.updateMousePos=function(t){this.position=new s(t.clientX-10-this.rect.left,t.clientY-80-this.rect.top)},t.prototype.forceNormal=function(t){var o=this.position;return o=(o=o.sub(t)).normalize()},t}(),d=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])};return function(o,n){function i(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),w=function(t){function o(o,n,i){return t.call(this,o,n,i)||this}return d(o,t),o.prototype.draw=function(t){t.fillStyle="rgb(200, 0, 0)",t.fillRect(this.location.x,this.location.y,this.width,this.height)},o}(u),v=600,m=600,g=[],x=0,_=[],b=function(t){!function(t){for(var o=0,n=g;o<n.length;o++){var i=n[o],e=(new s(0,.5*i.mass),i.location);i.update(t,c);for(var r=0,a=_;r<a.length;r++)a[r].collidesWith(i)&&(i.location=e,i.velocity=new s(0,0),i.acceleration=new s(0,0))}}(t-x),function(){if(r){r.clearRect(0,0,v,m);for(var t=0,o=_;t<o.length;t++)o[t].draw(r);for(var n=0,i=g;n<i.length;n++)i[n].draw(r)}}(),x=t,window.requestAnimationFrame(b)};var S=function(){var t=new f(new s(100,400),10);g.push(t),_.push(new w(new s(100,100),30,30)),_.push(new w(new s(300,400),30,70));var o=function(){var t=document.createElement("canvas");return t.setAttribute("height",m.toString()),t.setAttribute("width",v.toString()),t.setAttribute("style","border: 1px solid black;"),t}();c=new y(o),document.body.appendChild(o),r=o.getContext("2d"),window.requestAnimationFrame(b)};document.body.onload=function(){S()}}]);
//# sourceMappingURL=bundle.js.map